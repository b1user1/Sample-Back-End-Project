{
  "_from": "compression",
  "_id": "compression@1.7.1",
  "_inBundle": false,
  "_integrity": "sha1-7/JgPvwuIs+G810uuTWJ+YdTc9s=",
  "_location": "/compression",
  "_phantomChildren": {},
  "_requested": {
    "escapedName": "compression",
    "fetchSpec": "latest",
    "name": "compression",
    "raw": "compression",
    "rawSpec": "",
    "registry": true,
    "saveSpec": null,
    "type": "tag"
  },
  "_requiredBy": [
    "#USER",
    "/"
  ],
  "_resolved": "https://registry.npmjs.org/compression/-/compression-1.7.1.tgz",
  "_shasum": "eff2603efc2e22cf86f35d2eb93589f9875373db",
  "_spec": "compression",
  "_where": "/home/user/Pictures/expressRestaurant",
  "bugs": {
    "url": "https://github.com/expressjs/compression/issues"
  },
  "bundleDependencies": false,
  "contributors": [
    {
      "email": "doug@somethingdoug.com",
      "name": "Douglas Christopher Wilson"
    },
    {
      "email": "me@jongleberry.com",
      "name": "Jonathan Ong",
      "url": "http://jongleberry.com"
    }
  ],
  "dependencies": {
    "accepts": "~1.3.4",
    "bytes": "3.0.0",
    "compressible": "~2.0.11",
    "debug": "2.6.9",
    "on-headers": "~1.0.1",
    "safe-buffer": "5.1.1",
    "vary": "~1.1.2"
  },
  "deprecated": false,
  "description": "Node.js compression middleware",
  "devDependencies": {
    "eslint": "3.19.0",
    "eslint-config-standard": "10.2.1",
    "eslint-plugin-import": "2.7.0",
    "eslint-plugin-markdown": "1.0.0-beta.6",
    "eslint-plugin-node": "5.1.1",
    "eslint-plugin-promise": "3.5.0",
    "eslint-plugin-standard": "3.0.1",
    "istanbul": "0.4.5",
    "mocha": "2.5.3",
    "supertest": "1.1.0"
  },
  "engines": {
    "node": ">= 0.8.0"
  },
  "files": [
    "LICENSE",
    "HISTORY.md",
    "index.js"
  ],
  "homepage": "https://github.com/expressjs/compression#readme",
  "license": "MIT",
  "name": "compression",
  "optionalDependencies": {},
  "readme": "# compression\r\n\r\n[![NPM Version][npm-image]][npm-url]\r\n[![NPM Downloads][downloads-image]][downloads-url]\r\n[![Build Status][travis-image]][travis-url]\r\n[![Test Coverage][coveralls-image]][coveralls-url]\r\n[![Gratipay][gratipay-image]][gratipay-url]\r\n\r\nNode.js compression middleware.\r\n\r\nThe following compression codings are supported:\r\n\r\n  - deflate\r\n  - gzip\r\n\r\n## Install\r\n\r\nThis is a [Node.js](https://nodejs.org/en/) module available through the\r\n[npm registry](https://www.npmjs.com/). Installation is done using the\r\n[`npm install` command](https://docs.npmjs.com/getting-started/installing-npm-packages-locally):\r\n\r\n```bash\r\n$ npm install compression\r\n```\r\n\r\n## API\r\n\r\n<!-- eslint-disable no-unused-vars -->\r\n\r\n```js\r\nvar compression = require('compression')\r\n```\r\n\r\n### compression([options])\r\n\r\nReturns the compression middleware using the given `options`. The middleware\r\nwill attempt to compress response bodies for all request that traverse through\r\nthe middleware, based on the given `options`.\r\n\r\nThis middleware will never compress responses that include a `Cache-Control`\r\nheader with the [`no-transform` directive](https://tools.ietf.org/html/rfc7234#section-5.2.2.4),\r\nas compressing will transform the body.\r\n\r\n#### Options\r\n\r\n`compression()` accepts these properties in the options object. In addition to\r\nthose listed below, [zlib](http://nodejs.org/api/zlib.html) options may be\r\npassed in to the options object.\r\n\r\n##### chunkSize\r\n\r\nThe default value is `zlib.Z_DEFAULT_CHUNK`, or `16384`.\r\n\r\nSee [Node.js documentation](http://nodejs.org/api/zlib.html#zlib_memory_usage_tuning)\r\nregarding the usage.\r\n\r\n##### filter\r\n\r\nA function to decide if the response should be considered for compression.\r\nThis function is called as `filter(req, res)` and is expected to return\r\n`true` to consider the response for compression, or `false` to not compress\r\nthe response.\r\n\r\nThe default filter function uses the [compressible](https://www.npmjs.com/package/compressible)\r\nmodule to determine if `res.getHeader('Content-Type')` is compressible.\r\n\r\n##### level\r\n\r\nThe level of zlib compression to apply to responses. A higher level will result\r\nin better compression, but will take longer to complete. A lower level will\r\nresult in less compression, but will be much faster.\r\n\r\nThis is an integer in the range of `0` (no compression) to `9` (maximum\r\ncompression). The special value `-1` can be used to mean the \"default\r\ncompression level\", which is a default compromise between speed and\r\ncompression (currently equivalent to level 6).\r\n\r\n  - `-1` Default compression level (also `zlib.Z_DEFAULT_COMPRESSION`).\r\n  - `0` No compression (also `zlib.Z_NO_COMPRESSION`).\r\n  - `1` Fastest compression (also `zlib.Z_BEST_SPEED`).\r\n  - `2`\r\n  - `3`\r\n  - `4`\r\n  - `5`\r\n  - `6` (currently what `zlib.Z_DEFAULT_COMPRESSION` points to).\r\n  - `7`\r\n  - `8`\r\n  - `9` Best compression (also `zlib.Z_BEST_COMPRESSION`).\r\n\r\nThe default value is `zlib.Z_DEFAULT_COMPRESSION`, or `-1`.\r\n\r\n**Note** in the list above, `zlib` is from `zlib = require('zlib')`.\r\n\r\n##### memLevel\r\n\r\nThis specifies how much memory should be allocated for the internal compression\r\nstate and is an integer in the range of `1` (minimum level) and `9` (maximum\r\nlevel).\r\n\r\nThe default value is `zlib.Z_DEFAULT_MEMLEVEL`, or `8`.\r\n\r\nSee [Node.js documentation](http://nodejs.org/api/zlib.html#zlib_memory_usage_tuning)\r\nregarding the usage.\r\n\r\n##### strategy\r\n\r\nThis is used to tune the compression algorithm. This value only affects the\r\ncompression ratio, not the correctness of the compressed output, even if it\r\nis not set appropriately.\r\n\r\n  - `zlib.Z_DEFAULT_STRATEGY` Use for normal data.\r\n  - `zlib.Z_FILTERED` Use for data produced by a filter (or predictor).\r\n    Filtered data consists mostly of small values with a somewhat random\r\n    distribution. In this case, the compression algorithm is tuned to\r\n    compress them better. The effect is to force more Huffman coding and less\r\n    string matching; it is somewhat intermediate between `zlib.Z_DEFAULT_STRATEGY`\r\n    and `zlib.Z_HUFFMAN_ONLY`.\r\n  - `zlib.Z_FIXED` Use to prevent the use of dynamic Huffman codes, allowing\r\n    for a simpler decoder for special applications.\r\n  - `zlib.Z_HUFFMAN_ONLY` Use to force Huffman encoding only (no string match).\r\n  - `zlib.Z_RLE` Use to limit match distances to one (run-length encoding).\r\n    This is designed to be almost as fast as `zlib.Z_HUFFMAN_ONLY`, but give\r\n    better compression for PNG image data.\r\n\r\n**Note** in the list above, `zlib` is from `zlib = require('zlib')`.\r\n\r\n##### threshold\r\n\r\nThe byte threshold for the response body size before compression is considered\r\nfor the response, defaults to `1kb`. This is a number of bytes, any string\r\naccepted by the [bytes](https://www.npmjs.com/package/bytes) module, or `false`.\r\n\r\n**Note** this is only an advisory setting; if the response size cannot be determined\r\nat the time the response headers are written, then it is assumed the response is\r\n_over_ the threshold. To guarantee the response size can be determined, be sure\r\nset a `Content-Length` response header.\r\n\r\n##### windowBits\r\n\r\nThe default value is `zlib.Z_DEFAULT_WINDOWBITS`, or `15`.\r\n\r\nSee [Node.js documentation](http://nodejs.org/api/zlib.html#zlib_memory_usage_tuning)\r\nregarding the usage.\r\n\r\n#### .filter\r\n\r\nThe default `filter` function. This is used to construct a custom filter\r\nfunction that is an extension of the default function.\r\n\r\n```js\r\nvar compression = require('compression')\r\nvar express = require('express')\r\n\r\nvar app = express()\r\napp.use(compression({filter: shouldCompress}))\r\n\r\nfunction shouldCompress (req, res) {\r\n  if (req.headers['x-no-compression']) {\r\n    // don't compress responses with this request header\r\n    return false\r\n  }\r\n\r\n  // fallback to standard filter function\r\n  return compression.filter(req, res)\r\n}\r\n```\r\n\r\n### res.flush\r\n\r\nThis module adds a `res.flush()` method to force the partially-compressed\r\nresponse to be flushed to the client.\r\n\r\n## Examples\r\n\r\n### express/connect\r\n\r\nWhen using this module with express or connect, simply `app.use` the module as\r\nhigh as you like. Requests that pass through the middleware will be compressed.\r\n\r\n```js\r\nvar compression = require('compression')\r\nvar express = require('express')\r\n\r\nvar app = express()\r\n\r\n// compress all responses\r\napp.use(compression())\r\n\r\n// add all routes\r\n```\r\n\r\n### Server-Sent Events\r\n\r\nBecause of the nature of compression this module does not work out of the box\r\nwith server-sent events. To compress content, a window of the output needs to\r\nbe buffered up in order to get good compression. Typically when using server-sent\r\nevents, there are certain block of data that need to reach the client.\r\n\r\nYou can achieve this by calling `res.flush()` when you need the data written to\r\nactually make it to the client.\r\n\r\n```js\r\nvar compression = require('compression')\r\nvar express = require('express')\r\n\r\nvar app = express()\r\n\r\n// compress responses\r\napp.use(compression())\r\n\r\n// server-sent event stream\r\napp.get('/events', function (req, res) {\r\n  res.setHeader('Content-Type', 'text/event-stream')\r\n  res.setHeader('Cache-Control', 'no-cache')\r\n\r\n  // send a ping approx every 2 seconds\r\n  var timer = setInterval(function () {\r\n    res.write('data: ping\\n\\n')\r\n\r\n    // !!! this is the important part\r\n    res.flush()\r\n  }, 2000)\r\n\r\n  res.on('close', function () {\r\n    clearInterval(timer)\r\n  })\r\n})\r\n```\r\n\r\n## License\r\n\r\n[MIT](LICENSE)\r\n\r\n[npm-image]: https://img.shields.io/npm/v/compression.svg\r\n[npm-url]: https://npmjs.org/package/compression\r\n[travis-image]: https://img.shields.io/travis/expressjs/compression/master.svg\r\n[travis-url]: https://travis-ci.org/expressjs/compression\r\n[coveralls-image]: https://img.shields.io/coveralls/expressjs/compression/master.svg\r\n[coveralls-url]: https://coveralls.io/r/expressjs/compression?branch=master\r\n[downloads-image]: https://img.shields.io/npm/dm/compression.svg\r\n[downloads-url]: https://npmjs.org/package/compression\r\n[gratipay-image]: https://img.shields.io/gratipay/dougwilson.svg\r\n[gratipay-url]: https://www.gratipay.com/dougwilson/\r\n",
  "readmeFilename": "README.md",
  "repository": {
    "type": "git",
    "url": "git+https://github.com/expressjs/compression.git"
  },
  "scripts": {
    "lint": "eslint --plugin markdown --ext js,md .",
    "test": "mocha --check-leaks --reporter spec --bail",
    "test-cov": "istanbul cover node_modules/mocha/bin/_mocha -- --check-leaks --reporter dot",
    "test-travis": "istanbul cover node_modules/mocha/bin/_mocha --report lcovonly -- --check-leaks --reporter spec"
  },
  "version": "1.7.1"
}
